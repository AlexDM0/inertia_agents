{
  "name": "evejs",
  "version": "0.4.4",
  "description": "Simple message based agents.",
  "author": {
    "name": "Jos de Jong",
    "email": "wjosdejong@gmail.com",
    "url": "https://github.com/josdejong"
  },
  "keywords": [
    "eve",
    "agent",
    "actor",
    "messages"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/enmasseio/evejs.git"
  },
  "dependencies": {
    "amqp": "^0.2.0",
    "async": "^0.2.9",
    "babble": "^0.10.0",
    "distribus": "^0.4.0",
    "hypertimer": "^1.1.0",
    "promise": "^6.0.0",
    "pubnub": "^3.5.48",
    "seed-random": "^2.2.0",
    "uuid-v4": "^0.1.0",
    "ws": "^0.4.32"
  },
  "devDependencies": {
    "freeport": "^1.0.3",
    "gulp": "^3.8.9",
    "gulp-util": "^3.0.1",
    "mocha": "latest",
    "uglify-js": "^2.4.15",
    "webpack": "^1.4.8"
  },
  "scripts": {
    "build": "gulp",
    "watch": "gulp watch",
    "watch-dev": "gulp watch-dev",
    "test": "mocha test --recursive --reporter spec"
  },
  "main": "./index.js",
  "readme": "# evejs\r\n\r\nEve is a multipurpose, web-based agent platform. Eve envisions to be an open and dynamic environment where agents can live and act anywhere: in the cloud, on smartphones, on desktops, in browsers, robots, home automation devices, and others. The agents communicate with each other using simple, existing protocols (JSON-RPC) over existing transport layers (HTTP, AMQP, WebSockets, etc.), offering a language and platform agnostic solution.\r\n\r\nEve is being developed by [Almende B.V.](http://www.almende.com), a Dutch research company specialized in information and communication technologies. Central to Almende's research is the concept of self-organization. Almende believes that computer systems and technology should support people in performing their professional tasks and organizing their daily lives. This means that ICT should learn to work for and with people, according to their individual wishes and demands.\r\n\r\nCurrently there are two main implementations of Eve: one in Java and one in JavaScript. This is the JavaScript version of Eve (evejs), running in node.js and on the browser. More on the general concepts and about other implementations can be found on the official website: http://eve.almene.com.\r\n\r\nThe `evejs` library features:\r\n\r\n- A simple, message based `Agent` class.\r\n- Extension modules offering powerful communication patterns: Babble, Pattern, Request, and RPC.\r\n- Support for many communication transports: AMQP, Distibus, HTTP, Local, PubNub, and WebSocket.\r\n- Simulation tooling: discrete event simulation and deterministic random number generation.\r\n- Extensive documentation and examples.\r\n\r\n\r\n## Install\r\n\r\nInstall the module via npm:\r\n\r\n    npm install evejs\r\n\r\n## Load\r\n\r\nLoad `evejs` in a node.js application:\r\n\r\n```js\r\nvar eve = require('evejs');\r\n\r\n// ... use eve ...\r\n```\r\n\r\nLoad `evejs` in the browser:\r\n\r\n```html\r\n<!DOCTYPE HTML>\r\n<html>\r\n<head>\r\n  <script src=\"./dist/eve.js\"></script>\r\n</head>\r\n<body>\r\n  <script type=\"text/javascript\">\r\n  // ... use eve ...\r\n  </script>\r\n</body>\r\n</html>\r\n```\r\n\r\n## Use\r\n\r\nAn agent basically has a methods `send`, `receive`, `connect` and `disconnect`.\r\nAn agent can be extended with modules like `pattern` and `request`. There is\r\na central configuration `eve.system` which can be used to load transports. \r\nThe loaded transports can be used by agents to communicate with each other.\r\n\r\nTo set up a system with eve agents:\r\n\r\n- Create an agent class extending `eve.Agent`. A template for an agent is:\r\n\r\n  ```js\r\n  var eve = require('evejs');\r\n  \r\n  function MyAgent(id) {\r\n    // execute super constructor\r\n    eve.Agent.call(this, id);\r\n    \r\n    // extend the agent with modules (choose from \r\n    // 'babble', 'pattern', 'request', and 'rpc')\r\n    this.extend('request');\r\n    \r\n    // connect to some or all transports\r\n    this.connect(eve.system.transports.getAll());\r\n  }\r\n  \r\n  // extend the eve.Agent prototype\r\n  MyAgent.prototype = Object.create(eve.Agent.prototype);\r\n  MyAgent.prototype.constructor = MyAgent;\r\n  \r\n  MyAgent.prototype.receive = function (from, message) {\r\n    // handle incoming messages...\r\n  };\r\n  \r\n  module.exports = MyAgent;\r\n  ```\r\n\r\n- To send and receive messages, each agent has a method `send(to, message)` and \r\n`receive(from, message)`. A message can be send to and agent by specifying either \r\nthe agents full url, or just the agents id. In the latter case, the agent will \r\nsend the message via the transport marked as *default*.\r\n\r\n  ```js\r\n  agent1.send('distribus://networkId/agent2', 'hello agent2!');\r\n  agent1.send('agent2', 'hello agent2!'); // send via the default transport\r\n  ```\r\n  \r\n  The *networkId* of a transport can be found at `transport.networkId`.\r\n\r\n- Configure `eve.system`, initialize transports and other services.\r\n\r\n  ```js\r\n  eve.system.init({\r\n    transports: [\r\n      {\r\n        type: 'distribus'\r\n      }\r\n    ]\r\n  });\r\n  ```\r\n\r\n- Create an agent:\r\n\r\n  ```js\r\n  var agent1 = new MyAgent('agent1');\r\n  ```\r\n\r\n### HelloAgent\r\n\r\nTo create a simple agent class, create a file [**HelloAgent.js**](examples/agents/HelloAgent.js) with the \r\nfollowing code:\r\n\r\n```js\r\nvar eve = require('evejs');\r\n\r\nfunction HelloAgent(id) {\r\n  // execute super constructor\r\n  eve.Agent.call(this, id);\r\n\r\n  // connect to all transports configured by the system\r\n  this.connect(eve.system.transports.getAll());\r\n}\r\n\r\n// extend the eve.Agent prototype\r\nHelloAgent.prototype = Object.create(eve.Agent.prototype);\r\nHelloAgent.prototype.constructor = HelloAgent;\r\n\r\nHelloAgent.prototype.sayHello = function(to) {\r\n  this.send(to, 'Hello ' + to + '!');\r\n};\r\n\r\nHelloAgent.prototype.receive = function(from, message) {\r\n  console.log(from + ' said: ' + JSON.stringify(message));\r\n\r\n  if (message.indexOf('Hello') === 0) {\r\n    // reply to the greeting\r\n    this.send(from, 'Hi ' + from + ', nice to meet you!');\r\n  }\r\n};\r\n\r\nmodule.exports = HelloAgent;\r\n```\r\n\r\nThis agent class can be used as follows. Note that the agents talk to each \r\nother via a `LocalTransport` which is instantiated in `eve.system` by default.\r\n\r\n```js\r\nvar HelloAgent = require('./HelloAgent');\r\n\r\n// create two agents\r\nvar agent1 = new HelloAgent('agent1');\r\nvar agent2 = new HelloAgent('agent2');\r\n\r\n// send a message to agent1\r\nagent2.send('agent1', 'Hello agent1!');\r\n```\r\n\r\n## Documentation\r\n\r\n- [API](https://github.com/enmasseio/evejs/tree/master/docs/api.md)\r\n- [Configuration](https://github.com/enmasseio/evejs/tree/master/docs/configuration.md)\r\n- [Transports](https://github.com/enmasseio/evejs/tree/master/docs/transports.md)\r\n- [Modules](https://github.com/enmasseio/evejs/tree/master/docs/modules.md)\r\n- [Protocols](https://github.com/enmasseio/evejs/tree/master/docs/protocols.md)\r\n\r\n\r\n## Examples\r\n\r\nExamples are available in the examples folder:\r\n\r\n[https://github.com/enmasseio/evejs/tree/master/examples](https://github.com/enmasseio/evejs/tree/master/examples)\r\n\r\n\r\n## Build\r\n\r\nA bundled file of `evejs` for use in the browser is available in the folder `./dist`. Note that not all transports are supported in the browser.\r\n\r\nThe files can be regenerated by running:\r\n\r\n    npm run build\r\n\r\nTo automatically re-build on code changes, run one of the following scripts:\r\n\r\n    npm run watch           # bundle and minify on code change\r\n    npm run watch-bundle    # bundle on code change\r\n\r\n\r\n## Custom builds\r\n\r\nTo create a custom bundle containing only the needed modules and transports, create a copy of *index.js* named *custom.js*, and strip all redundant dependencies for it. The most minimalistic version only includes `Agent` and `LocalTransport` and could look like:\r\n\r\n```js\r\nexports.Agent = require('./lib/Agent');\r\nexports.transport: {\r\n  LocalTransport: require('./lib/transport/local/LocalTransport')\r\n}\r\n```\r\n\r\nCreate a bundle using [browerify](http://browserify.org/):\r\n\r\n    browserify custom.js -o eve.custom.js -s eve\r\n\r\n\r\n## Test\r\n\r\nTo test `evejs`, install the project dependencies once:\r\n\r\n    npm install\r\n\r\nThen run the tests:\r\n\r\n    npm test\r\n",
  "readmeFilename": "README.md",
  "gitHead": "61f85832817677861cd712829513f33f1a0ad510",
  "bugs": {
    "url": "https://github.com/enmasseio/evejs/issues"
  },
  "homepage": "https://github.com/enmasseio/evejs",
  "_id": "evejs@0.4.4",
  "_shasum": "5f5a5781f3dc3fd568172036da0b88b94c26cfe1",
  "_from": "../../Enmasse/evejs"
}
